(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(37)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),s=n.n(o),c=n(3),l=n(10),i=n(13),u=n(4),d=n(14);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={todos:[],users:[],preparedTodos:[],sortMethod:"default",isLoading:!1};var b={START_DATA_LOADING:"START_DATA_LOADING",SET_DATA_TO_STORE:"SET_DATA_TO-STORE",SORT_DATA:"SORT_DATA",SORT_TYPE:"SORT_TYPE"},T=function(e){return{type:b.START_DATA_LOADING,payload:e}};function O(e){return{type:b.SORT_TYPE,payload:e}}var E=function(){return function(e){y.dispatch(T()),Promise.all([fetch("https://jsonplaceholder.typicode.com/todos"),fetch("https://jsonplaceholder.typicode.com/users")]).then(function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return Promise.all([n.json(),r.json()])}).then(function(e){var t,n,r=Object(l.a)(e,2),a=r[0],o=r[1];y.dispatch((n=o,t=a.map(function(e){return m({},e,{user:n.find(function(t){return t.id===e.userId})})}),{type:b.SET_DATA_TO_STORE,payload:t})),y.dispatch(T())})}},h=function(e,t){switch(t){case"title":return e.sort(function(e,t){return e.title.localeCompare(t.title)});case"status":return e.sort(function(e,t){return e.completed-t.completed});case"user":return e.sort(function(e,t){return e.user.name.localeCompare(t.user.name)});default:return e}},y=Object(u.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.START_DATA_LOADING:return m({},e,{isLoading:!e.isLoading});case b.SET_DATA_TO_STORE:return m({},e,{todos:t.payload});case b.SORT_TYPE:var n=e.todos;return m({},e,{sortMethod:t.payload,todos:h(n,t.payload)});case b.SORT_DATA:return m({},e,{todos:h(e.todos,e.sortMethod)});default:return e}},Object(u.a)(d.a)),g=y,v=(n(30),n(1)),A=n.n(v),_=(A.a.string.isRequired,A.a.shape({name:A.a.string}).isRequired),j=(A.a.string.isRequired,A.a.shape({title:A.a.string,completed:A.a.bool,id:A.a.number,user:_}).isRequired,A.a.arrayOf(A.a.shape({title:A.a.string,completed:A.a.bool,id:A.a.number,user:_}).isRequired).isRequired,n(31),function(e){var t=e.text,n=e.listOfTodos,r=e.onClick;return a.a.createElement("button",{className:"btn btn-primary btn--start",type:"button",onClick:function(){return r(n)}},t)}),D=n(15),S=n(16),R=n(18),N=n(17),w=n(19),P=n(6),L=n.n(P),k=(n(32),function(e){function t(){var e,n;Object(D.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(a)))).buttons=[{name:"default",label:"Default"},{name:"title",label:"Title"},{name:"status",label:"Status"},{name:"user",label:"User"}],n}return Object(w.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sortMethod,n=e.sortType;console.log("this.props: ",this.props);var r=this.buttons.map(function(e){var r=e.name,o=e.label,s=t===r,c=L()({"btn-info":s,"btn-outline-secondary":!s});return a.a.createElement("button",{type:"button",className:"btn ".concat(c),key:r,onClick:function(){return n(r)}},o)});return a.a.createElement("div",{className:"btn-group"},r)}}]),t}(r.Component)),M={sortType:O},C=Object(c.b)(function(e){return{sortMethod:e.sortMethod}},M)(k),q=(n(33),function(e){var t=e.user;return a.a.createElement("span",{className:"todo-list-item__user"},t.name)}),I=(n(34),function(e){var t=e.todo,n=t.title,r=t.completed,o=void 0!==r&&r,s=t.user,c=t.id,l=L()({"todo-list-item":!0,"todo-list-item todo-list-item--done":o});return a.a.createElement("span",{className:l},a.a.createElement("span",{className:"todo-list-item__id"},c),a.a.createElement(q,{user:s}),a.a.createElement("span",{className:"todo-list-item__name"},n))}),G=(n(35),function(e){return console.log("todolist, props: ",e.todos),a.a.createElement("ul",{className:"list-group todo-list"},e.todos.map(function(e){return a.a.createElement("li",{className:"list-group-item",key:e.id},a.a.createElement(I,{todo:e}))}))}),Y=Object(c.b)(function(e){return{todos:e.todos}})(G),x=(n(36),function(e){var t=e.todos,n=e.users,r=e.isLoading,o=e.loadData;return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of todos"),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"content"},0===t.length?a.a.createElement("div",null,r?a.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:!0},a.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),a.a.createElement("span",{className:"sr-only"},"Loading...")):"",a.a.createElement("div",null,a.a.createElement(j,{className:"btn--start",text:"Load",onClick:o}))):a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("span",null,"Todos: "),t.length),a.a.createElement("p",null,a.a.createElement("span",null,"Users: "),n.length),a.a.createElement(C,null),a.a.createElement(Y,null)))))}),J=Object(c.b)(function(e){return{todos:e.todos,preparedTodos:e.preparedTodos,users:e.users,isLoading:e.isLoading,sortMethod:e.sortMethod}},function(e){return{loadData:function(){return e(E())},sortType:function(t){return e(O(t))},sortTodos:function(){return e(h())}}})(x);s.a.render(a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,{store:g},a.a.createElement(J,null))),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.cbc88001.chunk.js.map