(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(38)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),s=n.n(o),c=n(3),i=n(7),l=n(11),u=n(14),d=n(4),p=n(15);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b={todos:[],users:[],preparedTodos:[],sortMethod:"default",isLoading:!1};var T={START_DATA_LOADING:"START_DATA_LOADING",SET_DATA_TO_STORE:"SET_DATA_TO-STORE",SORT_DATA:"SORT_DATA",SORT_TYPE:"SORT_TYPE"},O=function(e){return{type:T.START_DATA_LOADING,payload:e}};function E(e){return{type:T.SORT_TYPE,payload:e}}var y=function(){return function(e){v.dispatch(O()),Promise.all([fetch("https://jsonplaceholder.typicode.com/todos"),fetch("https://jsonplaceholder.typicode.com/users")]).then(function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return Promise.all([n.json(),r.json()])}).then(function(e){var t,n=Object(l.a)(e,2),r=n[0],a=n[1];v.dispatch(function(e,t){return{type:T.SET_DATA_TO_STORE,payload:{data:e,users:t}}}((t=a,r.map(function(e){return f({},e,{user:t.find(function(t){return t.id===e.userId})})})),a)),v.dispatch(O())})}},h=function(e,t,n){switch(n){case"title":return Object(i.a)(e).sort(function(e,t){return e.title.localeCompare(t.title)});case"status":return Object(i.a)(e).sort(function(e,t){return e.completed-t.completed});case"user":return Object(i.a)(e).sort(function(e,t){return e.user.name.localeCompare(t.user.name)});default:return t}},v=Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.START_DATA_LOADING:return f({},e,{isLoading:!e.isLoading});case T.SET_DATA_TO_STORE:return f({},e,{todos:t.payload.data,users:t.payload.users,preparedTodos:t.payload.data});case T.SORT_TYPE:var n=e.todos,r=e.preparedTodos;return f({},e,{sortMethod:t.payload,todos:h(n,r,t.payload)});default:return e}},Object(d.a)(p.a)),_=v,g=(n(31),n(1)),A=n.n(g),j=(A.a.string.isRequired,A.a.shape({name:A.a.string}).isRequired),D=(A.a.string.isRequired,A.a.shape({title:A.a.string,completed:A.a.bool,id:A.a.number,user:j}).isRequired,A.a.arrayOf(A.a.shape({title:A.a.string,completed:A.a.bool,id:A.a.number,user:j}).isRequired).isRequired,n(32),function(e){var t=e.text,n=e.listOfTodos,r=e.onClick;return a.a.createElement("button",{className:"btn btn-primary btn--start",type:"button",onClick:function(){return r(n)}},t)}),S=n(16),N=n(17),R=n(19),w=n(18),P=n(20),L=n(6),k=n.n(L),C=(n(33),function(e){function t(){var e,n;Object(S.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).buttons=[{name:"default",label:"Default"},{name:"title",label:"Title"},{name:"status",label:"Status"},{name:"user",label:"User"}],n}return Object(P.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sortMethod,n=e.sortType,r=this.buttons.map(function(e){var r=e.name,o=e.label,s=t===r,c=k()({"btn-info":s,"btn-outline-secondary":!s});return a.a.createElement("button",{type:"button",className:"btn ".concat(c),key:r,onClick:function(){return n(r)}},o)});return a.a.createElement("div",{className:"btn-group"},r)}}]),t}(r.Component)),M={sortType:E},q=Object(c.b)(function(e){return{sortMethod:e.sortMethod}},M)(C),I=(n(34),function(e){var t=e.user;return a.a.createElement("span",{className:"todo-list-item__user"},t.name)}),G=(n(35),function(e){var t=e.todo,n=t.title,r=t.completed,o=void 0!==r&&r,s=t.user,c=t.id,i=k()({"todo-list-item":!0,"todo-list-item todo-list-item--done":o});return a.a.createElement("span",{className:i},a.a.createElement("span",{className:"todo-list-item__id"},c),a.a.createElement(I,{user:s}),a.a.createElement("span",{className:"todo-list-item__name"},n))}),Y=(n(36),function(e){return a.a.createElement("ul",{className:"list-group todo-list"},e.todos.map(function(e){return a.a.createElement("li",{className:"list-group-item",key:e.id},a.a.createElement(G,{todo:e}))}))}),x=Object(c.b)(function(e){return{todos:e.todos}},function(e){return{sortTodos:function(){return e(h())}}})(Y),J=(n(37),function(e){var t=e.todos,n=e.users,r=e.isLoading,o=e.loadData;return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of todos"),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"content"},0===t.length?a.a.createElement("div",null,r?a.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:!0},a.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),a.a.createElement("span",{className:"sr-only"},"Loading...")):"",a.a.createElement("div",null,a.a.createElement(D,{className:"btn--start",text:"Load",onClick:o}))):a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("span",null,"Todos: "),t.length),a.a.createElement("p",null,a.a.createElement("span",null,"Users: "),n.length),a.a.createElement(q,null),a.a.createElement(x,null)))))}),U=Object(c.b)(function(e){return{todos:e.todos,preparedTodos:e.preparedTodos,users:e.users,isLoading:e.isLoading,sortMethod:e.sortMethod}},function(e){return{loadData:function(){return e(y())},sortType:function(t){return e(E(t))},sortTodos:function(){return e(h())}}})(J);s.a.render(a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,{store:_},a.a.createElement(U,null))),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.3b33c179.chunk.js.map