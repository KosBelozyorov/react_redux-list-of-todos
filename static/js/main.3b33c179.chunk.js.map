{"version":3,"sources":["store/index.js","constants/proptypes.js","components/Button/Button.js","components/TodoItemSort/TodoItemSort.js","components/TodoItemSort/index.js","components/User/User.js","components/TodoItem/TodoItem.js","components/TodoList/TodoList.js","components/TodoList/index.js","components/App/App.js","components/App/index.js","index.js"],"names":["initialState","todos","users","preparedTodos","sortMethod","isLoading","ACTION_TYPES","START_DATA_LOADING","SET_DATA_TO_STORE","SORT_DATA","SORT_TYPE","startLoading","data","type","payload","sortType","value","loadData","dispatch","store","Promise","all","fetch","then","_ref","_ref2","Object","slicedToArray","resTodos","resUsers","json","_ref3","usersList","_ref4","dataTodos","dataUsers","setDataToStore","map","todo","_objectSpread","user","find","id","userId","sortTodos","toConsumableArray","sort","a","b","title","localeCompare","completed","name","createStore","state","arguments","length","undefined","action","applyMiddleware","thunk","userShape","PropTypes","string","isRequired","shape","Button","bool","number","arrayOf","text","listOfTodos","onClick","react_default","createElement","className","TodoItemSort","buttons","label","_this$props","this","props","isActive","sortBtnClasses","classNames","btn-info","btn-outline-secondary","concat","key","Component","mapDispatchToProps","EnhancedTodoItemSort","connect","User","TodoItem","_todo$completed","classes","todo-list-item","todo-list-item todo-list-item--done","components_User_User","TodoList","components_TodoItem_TodoItem","EnhancedTodoList","App","disabled","role","aria-hidden","components_Button_Button","EnhancedApp","ReactDOM","render","Fragment","es","document","getElementById"],"mappings":"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","file":"static/js/main.3b33c179.chunk.js","sourcesContent":["import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst TODOS_URL = 'https://jsonplaceholder.typicode.com/todos';\nconst USERS_URL = 'https://jsonplaceholder.typicode.com/users';\n\nconst initialState = {\n  todos: [],\n  users: [],\n  preparedTodos: [],\n  sortMethod: 'default',\n  isLoading: false,\n};\n\nfunction getTodosWithUsers(todosList, usersList) {\n  return todosList.map(todo => ({\n    ...todo,\n    user: usersList.find(user => user.id === todo.userId),\n  }));\n}\n\nconst ACTION_TYPES = {\n  START_DATA_LOADING: 'START_DATA_LOADING',\n  SET_DATA_TO_STORE: 'SET_DATA_TO-STORE',\n  SORT_DATA: 'SORT_DATA',\n  SORT_TYPE: 'SORT_TYPE',\n\n};\n\nconst startLoading = data => ({\n  type: ACTION_TYPES.START_DATA_LOADING,\n  payload: data,\n});\n\nconst setDataToStore = (data, dataUsers) => ({\n  type: ACTION_TYPES.SET_DATA_TO_STORE,\n  payload: {\n    data,\n    users: dataUsers,\n  },\n});\n\nexport function sortType(value) {\n  return {\n    type: ACTION_TYPES.SORT_TYPE,\n    payload: value,\n  };\n}\n\nexport const loadData = () => (dispatch) => {\n  store.dispatch(startLoading());\n  Promise.all([\n    fetch(TODOS_URL),\n    fetch(USERS_URL),\n  ])\n    .then(([resTodos, resUsers]) => Promise.all(\n      [resTodos.json(), resUsers.json()]\n    ))\n    .then(([dataTodos, dataUsers]) => {\n      store.dispatch(\n        setDataToStore(getTodosWithUsers(dataTodos, dataUsers), dataUsers)\n      );\n      store.dispatch(startLoading());\n    });\n};\n\nexport const sortTodos = (todos, preparedTodos, sortMethod) => {\n  switch (sortMethod) {\n    case 'title':\n      return [...todos].sort((a, b) => (a.title.localeCompare(b.title)));\n    case 'status':\n      return [...todos].sort((a, b) => a.completed - b.completed);\n    case 'user':\n      return [...todos].sort((a, b) => a.user.name.localeCompare(b.user.name));\n    default:\n      return preparedTodos;\n  }\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ACTION_TYPES.START_DATA_LOADING:\n      return {\n        ...state,\n        isLoading: !state.isLoading,\n      };\n    case ACTION_TYPES.SET_DATA_TO_STORE:\n      return {\n        ...state,\n        todos: action.payload.data,\n        users: action.payload.users,\n        preparedTodos: action.payload.data,\n      };\n    case ACTION_TYPES.SORT_TYPE:\n      const { todos, preparedTodos } = state;\n\n      return {\n        ...state,\n        sortMethod: action.payload,\n        todos: sortTodos(todos, preparedTodos, action.payload),\n      };\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(thunk),\n);\n\nexport default store;\n","import PropTypes from 'prop-types';\n\nexport const ButtonProps = {\n  text: PropTypes.string.isRequired,\n};\n\nconst userShape = PropTypes.shape({\n  name: PropTypes.string,\n}).isRequired;\n\nexport const UserProps = {\n  user: userShape,\n};\n\nexport const TodoItemSortProps = {\n  // onSortChange: PropTypes.func.isRequired,\n  sortMethod: PropTypes.string.isRequired,\n};\n\nexport const TodoItemProps = {\n  todo: PropTypes.shape({\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    id: PropTypes.number,\n    user: userShape,\n  }).isRequired,\n};\n\nexport const TodoListProps = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string,\n      completed: PropTypes.bool,\n      id: PropTypes.number,\n      user: userShape,\n    }).isRequired,\n  ).isRequired,\n};\n","import React from 'react';\nimport { ButtonProps } from '../../constants/proptypes';\n\nimport './Button.css';\n\nconst Button = ({ text, listOfTodos, onClick }) => (\n  <button\n    className=\"btn btn-primary btn--start\"\n    type=\"button\"\n    onClick={() => onClick(listOfTodos)}\n  >\n    {text}\n  </button>\n);\n\nButton.propTypes = ButtonProps;\n\nexport default Button;\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport { TodoItemSortProps } from '../../constants/proptypes';\n\nimport './TodoItemSort.css';\n\nclass TodoItemSort extends Component {\n  buttons = [\n    { name: 'default', label: 'Default' },\n    { name: 'title', label: 'Title' },\n    { name: 'status', label: 'Status' },\n    { name: 'user', label: 'User' },\n  ];\n\n  render() {\n    const { sortMethod, sortType } = this.props;\n\n    const buttons = this.buttons.map(({ name, label }) => {\n      const isActive = sortMethod === name;\n\n      const sortBtnClasses = classNames({\n        'btn-info': isActive,\n        'btn-outline-secondary': !isActive,\n      });\n\n      return (\n        <button\n          type=\"button\"\n          className={`btn ${sortBtnClasses}`}\n          key={name}\n          onClick={() => sortType(name)}\n        >\n          {label}\n        </button>\n      );\n    });\n\n    return (\n      <div className=\"btn-group\">\n        {buttons}\n      </div>\n    );\n  }\n}\n\nTodoItemSort.propTypes = TodoItemSortProps;\n\nexport default TodoItemSort;\n","import { connect } from 'react-redux';\nimport TodoItemSort from './TodoItemSort';\nimport { sortType } from '../../store';\n\nconst mapDispatchToProps = {\n  sortType,\n};\n\nconst EnhancedTodoItemSort = connect(\n  ({ sortMethod }) => ({ sortMethod }),\n  mapDispatchToProps\n)(TodoItemSort);\n\nexport {\n  EnhancedTodoItemSort as TodoItemSort,\n};\n","import React from 'react';\nimport { UserProps } from '../../constants/proptypes';\nimport './User.css';\n\nconst User = ({ user }) => (\n  <span className=\"todo-list-item__user\">{user.name}</span>\n);\n\nUser.propTypes = UserProps;\n\nexport default User;\n","import React from 'react';\nimport classNames from 'classnames';\nimport User from '../User/User';\nimport { TodoItemProps } from '../../constants/proptypes';\n\nimport './TodoItem.css';\n\nconst TodoItem = ({ todo }) => {\n  const {\n    title, completed = false, user, id,\n  } = todo;\n\n  const classes = classNames({\n    'todo-list-item': true,\n    'todo-list-item todo-list-item--done': completed,\n  });\n\n  return (\n    <span className={classes}>\n      <span className=\"todo-list-item__id\">{id}</span>\n      <User user={user} />\n      <span className=\"todo-list-item__name\">{title}</span>\n    </span>\n  );\n};\n\nTodoItem.propTypes = TodoItemProps;\n\nexport default TodoItem;\n","import React from 'react';\nimport TodoItem from '../TodoItem/TodoItem';\nimport { TodoListProps } from '../../constants/proptypes';\n\nimport './TodoList.css';\n\nconst TodoList = props => (\n  <ul className=\"list-group todo-list\">\n    {props.todos.map(todo => (\n      <li className=\"list-group-item\" key={todo.id}>\n        <TodoItem todo={todo} />\n      </li>\n    ))}\n  </ul>\n);\n\nTodoList.propTypes = TodoListProps;\n\nexport default TodoList;\n","import { connect } from 'react-redux';\nimport TodoList from './TodoList';\nimport { sortTodos } from '../../store';\n\nconst mapDispatchToProps = dispatch => ({\n  sortTodos: () => dispatch(sortTodos()),\n});\n\nconst EnhancedTodoList = connect(\n  state => ({\n    todos: state.todos,\n  }),\n  mapDispatchToProps,\n)(TodoList);\n\nexport {\n  EnhancedTodoList as TodoList,\n};\n","import React from 'react';\nimport Button from '../Button/Button';\nimport { TodoItemSort } from '../TodoItemSort';\nimport { TodoList } from '../TodoList';\n\nimport './App.css';\n\nconst App = ({\n  todos, users, isLoading, loadData,\n}) => (\n  <div className=\"App\">\n    <h1>Dynamic list of todos</h1>\n    <div className=\"container\">\n\n      <div className=\"content\">\n        {todos.length === 0\n          ? (\n            <div>\n              {isLoading\n                ? (\n                  <button\n                    className=\"btn btn-primary\"\n                    type=\"button\"\n                    disabled\n                  >\n                    <span\n                      className=\"spinner-border spinner-border-sm\"\n                      role=\"status\"\n                      aria-hidden=\"true\"\n                    />\n                    <span className=\"sr-only\">Loading...</span>\n                  </button>\n                )\n                : ''\n              }\n              <div>\n                <Button\n                  className=\"btn--start\"\n                  text=\"Load\"\n                  onClick={loadData}\n                />\n              </div>\n            </div>\n          )\n          : (\n            <div>\n              <p>\n                <span>Todos: </span>\n                {todos.length}\n              </p>\n\n              <p>\n                <span>Users: </span>\n                {users.length}\n              </p>\n              <TodoItemSort />\n              <TodoList />\n            </div>\n          )\n        }\n      </div>\n    </div>\n  </div>\n);\n\nexport default App;\n","import { connect } from 'react-redux';\nimport App from './App';\nimport { loadData, sortType, sortTodos } from '../../store';\n\nconst mapDispatchToProps = dispatch => ({\n  loadData: () => dispatch(loadData()),\n  sortType: value => dispatch(sortType(value)),\n  sortTodos: () => dispatch(sortTodos()),\n});\n\nconst EnhancedApp = connect(\n  state => ({\n    todos: state.todos,\n    preparedTodos: state.preparedTodos,\n    users: state.users,\n    isLoading: state.isLoading,\n    sortMethod: state.sortMethod,\n  }),\n  mapDispatchToProps,\n)(App);\n\nexport {\n  EnhancedApp as App,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './index.css';\nimport { App } from './components/App';\n\nReactDOM.render((\n  <>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </>\n), document.getElementById('root'));\n"],"sourceRoot":""}